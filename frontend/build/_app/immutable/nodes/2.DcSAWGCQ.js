import{f as p,e as Q,a as c,s as k}from"../chunks/BQXzpLn-.js";import{i as T}from"../chunks/BIcc65hj.js";import{p as U,l as G,a as V,b as W,s as w,m as x,$ as Y,e as Z,c as aa,d as s,f as l,r as t,g as i,t as ea,u as $}from"../chunks/EPEsNJVS.js";import{i as M,s as sa,a as d}from"../chunks/Nwcx5Idz.js";import{h as ta,H as ia,B as na,S as ra,G as la,a as R,s as oa,b as va}from"../chunks/BlLDpqnD.js";import{G as ca,r as da,p as pa,s as ua,c as ma,a as ga,i as _a}from"../chunks/CowppeMr.js";var fa=p('<meta name="description" content="A high-stakes survival game inspired by Russian Roulette. Choose your risk, pull the trigger, survive and win!"/>'),ha=p('<div><span class="mode-bullets svelte-1uha8ag"> </span> <span class="mode-odds svelte-1uha8ag"> </span></div>'),Sa=p('<aside class="right-panel svelte-1uha8ag"><!></aside>'),$a=p('<div class="game-container svelte-1uha8ag"><!> <main class="game-main svelte-1uha8ag"><div class="game-layout svelte-1uha8ag"><aside class="left-panel svelte-1uha8ag"><!></aside> <section class="center-panel svelte-1uha8ag"><div class="game-scene svelte-1uha8ag"><!></div> <!></section> <!></div></main> <!></div>');function xa(A,D){U(D,!1);const r=()=>d(da,"$roundState",o),H=()=>d(ma,"$canPlaceBet",o),P=()=>d(ga,"$canSpin",o),C=()=>d(_a,"$isSpinning",o),[o,E]=sa(),n=x(),u=x();function F(a){a.code==="Space"&&!a.repeat&&(a.preventDefault(),r().gameState==="idle"&&H()?(pa(),R.play("bet")):(r().gameState==="betting"||r().gameState==="continue")&&P()&&!C()&&(R.play("spin"),ua()))}G(()=>r(),()=>{w(n,ca.find(a=>a.bullets===r().selectedBullets))}),G(()=>r(),()=>{w(u,r().gameState)}),V(),T();var m=$a();Q("keydown",Y,F),ta("1uha8ag",a=>{var e=fa();Z(()=>{aa.title="Revolver Survival | High Stakes Survival Game"}),c(a,e)});var b=s(m);ia(b,{});var g=l(b,2),y=s(g),_=s(y),K=s(_);na(K,{}),t(_);var f=l(_,2),h=s(f),O=s(h);ra(O,{}),t(h);var X=l(h,2);{var j=a=>{var e=ha();let v;var S=s(e),J=s(S);t(S);var B=l(S,2),L=s(B);t(B),t(e),ea(N=>{v=oa(e,1,"mode-badge svelte-1uha8ag",null,v,{active:i(u)!=="idle"}),k(J,`${i(n),$(()=>i(n).bullets)??""} Bullet${i(n),$(()=>i(n).bullets>1?"s":"")??""}`),k(L,`${N??""}% Survival`)},[()=>(i(n),$(()=>(i(n).survivalRate*100).toFixed(0)))]),c(a,e)};M(X,a=>{i(n)&&a(j)})}t(f);var q=l(f,2);{var z=a=>{var e=Sa(),v=s(e);va(v,{}),t(e),c(a,e)};M(q,a=>{i(u)!=="idle"&&a(z)})}t(y),t(g);var I=l(g,2);la(I,{}),t(m),c(A,m),W(),E()}export{xa as component};
