import{f as q,a as l,c as S,s as I}from"../chunks/BQXzpLn-.js";import{i as B}from"../chunks/BIcc65hj.js";import{G as H,L as K,y as U,p as Q,W as T,w as p,b as V,s as Z,m as ee,g as L,f as m,d as h,r as _,t as O,X as ae}from"../chunks/EPEsNJVS.js";import{i as C,s as te,a as D}from"../chunks/Nwcx5Idz.js";import{b as se,d as ne,e as re}from"../chunks/CowppeMr.js";function P(e,t,n,r,f){var o;H&&K();var s=(o=t.$$slots)==null?void 0:o[n],d=!1;s===!0&&(s=t.children,d=!0),s===void 0||s(e,d?()=>r:r)}const oe={enabled:!1,roundId:null,events:[],amount:0,currency:"USD",language:"en",payoutMultiplier:0},k=U(oe),z=U(!1);function ie(){if(typeof window>"u")return null;const e=new URLSearchParams(window.location.search),t=e.get("replay"),n=e.get("roundId")||e.get("round_id");if(!t||t!=="true")return null;let r=[];const f=e.get("events");if(f)try{r=JSON.parse(atob(f))}catch(R){console.warn("Failed to parse replay events:",R)}const s=parseFloat(e.get("amount")||"0"),d=e.get("currency")||"USD",o=e.get("language")||e.get("lang")||"en",b=parseFloat(e.get("multiplier")||e.get("payout_multiplier")||"0");return{enabled:!0,roundId:n,events:r,amount:s,currency:d,language:o,payoutMultiplier:b}}function le(){const e=ie();return e&&e.enabled?(k.set(e),z.set(!0),!0):!1}var fe=q('<div class="loading-screen svelte-12qhfyh"><div class="loading-content svelte-12qhfyh"><div class="spinner svelte-12qhfyh"></div> <p class="svelte-12qhfyh">Loading game...</p></div></div>'),ve=q('<!> <div class="replay-banner svelte-12qhfyh"><span class="replay-icon svelte-12qhfyh">â–¶</span> <span class="replay-text svelte-12qhfyh">REPLAY MODE</span> <span class="replay-info svelte-12qhfyh"> </span></div>',1),de=q('<div class="error-screen svelte-12qhfyh"><div class="error-content svelte-12qhfyh"><h2 class="svelte-12qhfyh">Connection Error</h2> <p class="svelte-12qhfyh"> </p> <p class="demo-notice svelte-12qhfyh">Playing in demo mode</p></div></div> <!>',1),ce=q('<div class="demo-badge svelte-12qhfyh">DEMO</div>'),ue=q("<!> <!>",1);function _e(e,t){Q(t,!1);const n=()=>D(re,"$rgsConfig",s),r=()=>D(z,"$isReplayMode",s),f=()=>D(k,"$replayConfig",s),[s,d]=te();let o=ee(!1);T(async()=>{se(),le()||await ne(),Z(o,!0)}),B();var b=ue(),R=p(b);{var A=a=>{var c=fe();l(a,c)},G=a=>{var c=S(),W=p(c);{var X=u=>{var y=ve(),M=p(y);P(M,t,"default",{});var w=m(M,2),x=m(h(w),4),i=h(x);_(x),_(w),O(v=>I(i,`Round: ${f().roundId??""} | Amount: ${f().currency??""} ${v??""}`),[()=>f().amount.toFixed(2)]),l(u,y)},Y=u=>{var y=S(),M=p(y);{var w=i=>{var v=de(),g=p(v),E=h(g),F=m(h(E),2),$=h(F,!0);_(F),ae(2),_(E),_(g);var j=m(g,2);P(j,t,"default",{}),O(()=>I($,n().error)),l(i,v)},x=i=>{var v=S(),g=p(v);P(g,t,"default",{}),l(i,v)};C(M,i=>{!n().initialized&&n().error?i(w):i(x,!1)},!0)}l(u,y)};C(W,u=>{r()?u(X):u(Y,!1)},!0)}l(a,c)};C(R,a=>{!L(o)||n().loading&&!r()?a(A):a(G,!1)})}var J=m(R,2);{var N=a=>{var c=ce();l(a,c)};C(J,a=>{n().isDemo&&L(o)&&!r()&&a(N)})}l(e,b),V(),d()}export{_e as component};
